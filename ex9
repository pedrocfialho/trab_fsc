;Problema 9: Elabore um programa que determine se uma palavra é um palíndromo.
;O número de caracteres na palavra é lido do endereço 0x60 da memória, enquanto
;a palavra começa no endereço 0x70.

main
    add a0,zr,word      ; a0 recebe o endereço da palavra
    add a1,a0,0         ; a1 também recebe o endereço da palavra para percorrer até o final

; para encontrar o fim da string
find_end
    ldb v1,a1
    beq v1,zr,found_end ; se encontrar o caractere nulo, a busca termina
    add a1,a1,1
    beq zr,zr,find_end
found_end
    sub a1,a1,1         ; retrocede uma posição para apontar para o último caractere

; para realizar a comparação
check_loop
    bge a0,a1,is_pal    ; se os ponteiros se encontrarem ou passarem, é um palíndromo

    ldb v2,a0           ; v2 recebe o caractere do início
    ldb v3,a1           ; v3 recebe o caractere do final
    bne v2,v3,is_nao    ; se os caracteres forem diferentes, não é um palíndromo

    add a0,a0,1         ; avança o ponteiro inicial
    sub a1,a1,1         ; retrocede o ponteiro final
    beq zr,zr,check_loop

is_nao
    add a0,zr,msg_nao ; carrega o endereço da mensagem "nao"
    beq zr,zr,print_loop
is_pal
    add a0,zr,msg_sim ; carrega o endereço da mensagem "sim"
print_loop
    ldb v1,a0
    stw v1,zr,0xf006
    beq v1,zr,end
    add a0,a0,1
    beq zr,zr,print_loop
end
    hlt

; variaveis
word
    "xamamamax"      

msg_sim
    "sim"

msg_nao
    "nao"
